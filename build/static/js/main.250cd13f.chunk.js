(this["webpackJsonpb-movies-app"]=this["webpackJsonpb-movies-app"]||[]).push([[0],{101:function(e,t,r){"use strict";r.r(t);var a,n=r(1),c=r.n(n),s=r(21),i=r.n(s),o=(r(86),r(87),r(7)),l=r(115),u=r(109),d=r(37),j=r(112),b=r(113),p=r(114),h=r(78),O=r(108),m=r(33),x=r(15),v=r(22),f=r(23),g=r(6),y=r.n(g),I=r(9),S=function(e){return{type:"SIGN_UP_EMAIL",email:e}},E=function(e){return{type:"SIGN_UP_PASSWORD",password:e}},w=function(e){return{type:"ADMIN_EMAIL",email:e}},N=function(e){return{type:"ADMIN_PASSWORD",password:e}},C=function(e){return{type:"ADMIN_ACCOUNT",account:e}},k=function(e){return{type:"IS_LOGGEDIN",token:e}},T=r(46),M=r(2),D={registerEmail:"",registerPassword:"",findEmail:"",deleteEmail:"",userInfo:{}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_EMAIL":var r=t.email;return Object(M.a)(Object(M.a)({},e),{},{registerEmail:r});case"REGISTER_PASSWORD":var a=t.password;return Object(M.a)(Object(M.a)({},e),{},{registerPassword:a});case"FIND_EMAIL":var n=t.email;return Object(M.a)(Object(M.a)({},e),{},{findEmail:n});case"DELETE_EMAIL":var c=t.email;return Object(M.a)(Object(M.a)({},e),{},{deleteEmail:c});case"USER_INFO":var s=t.data;return Object(M.a)(Object(M.a)({},e),{},{userInfo:s});default:return e}},U=r(8),L={addMovie:{movieTitle:"",movieGenre:"",movieYear:"",movieLength:""},updateMovie:{},movieId:"",findMovieTitle:"",movieData:{id:"",title:"",genre:"",year:"",movie_length:"",created_at:""},deleteMovieId:""},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MOVIE":var r=t.input,a=t.movieProp;return Object(M.a)(Object(M.a)({},e),{},{addMovie:Object(M.a)(Object(M.a)({},e.addMovie),{},Object(U.a)({},a,r))});case"FIND_MOVIE":var n=t.movie;return Object(M.a)(Object(M.a)({},e),{},{findMovieTitle:n});case"STORE_MOVIE_DATA":var c=t.data;return Object(M.a)(Object(M.a)({},e),{},{movieData:c});case"UPDATE_MOVIE":var s=t.input,i=t.movieProp;return Object(M.a)(Object(M.a)({},e),{},{updateMovie:Object(M.a)(Object(M.a)({},e.updateMovie),{},Object(U.a)({},i,s))});case"RESET_UPDATE":var o=t.obj;return Object(M.a)(Object(M.a)({},e),{},{updateMovie:o});case"STORE_ID":var l=t.id;return Object(M.a)(Object(M.a)({},e),{},{movieId:l});case"DELETE_MOVIE":var u=t.id;return Object(M.a)(Object(M.a)({},e),{},{deleteMovieId:u});default:return e}},P={singUpEmail:"",singUpPassword:"",logInEmail:"",logInPassword:"",adminUserAccount:"",loggedIn:!!localStorage.getItem("tk")},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_UP_EMAIL":var r=t.email;return Object(M.a)(Object(M.a)({},e),{},{signUpEmail:r});case"SIGN_UP_PASSWORD":var a=t.password;return Object(M.a)(Object(M.a)({},e),{},{signUpPassword:a});case"ADMIN_EMAIL":var n=t.email;return Object(M.a)(Object(M.a)({},e),{},{logInEmail:n});case"ADMIN_PASSWORD":var c=t.password;return Object(M.a)(Object(M.a)({},e),{},{logInPassword:c});case"ADMIN_ACCOUNT":var s=t.account;return Object(M.a)(Object(M.a)({},e),{},{adminUserAccount:s});case"IS_LOGGEDIN":var i=t.token;return Object(M.a)(Object(M.a)({},e),{},{loggedIn:i});default:return e}},G={addSubscription:{},subscriptionType:"",subscriptionData:{},updateSubscription:{},subscriptionId:"",deleteId:""},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SUBSCRIPTION":var r=t.input,a=t.detail;return Object(M.a)(Object(M.a)({},e),{},{addSubscription:Object(M.a)(Object(M.a)({},e.addSubscription),{},Object(U.a)({},a,r))});case"RESET_ADD_SUBSCRIPTION":var n=t.reset;return Object(M.a)(Object(M.a)({},e),{},{addSubscription:n});case"FIND_SUBSCRIPTION":var c=t.input;return Object(M.a)(Object(M.a)({},e),{},{subscriptionType:c});case"STORE_SUBSCRIPTION_DATA":var s=t.data;return Object(M.a)(Object(M.a)({},e),{},{subscriptionData:s});case"RESET_SUBSCRIPTION_DATA":var i=t.reset;return Object(M.a)(Object(M.a)({},e),{},{subscriptionData:i});case"STORE_SUBSCRIPTION_ID":var o=t.id;return Object(M.a)(Object(M.a)({},e),{},{subscriptionId:o});case"UPDATE_SUBSCRIPTION":var l=t.input,u=t.detail;return Object(M.a)(Object(M.a)({},e),{},{updateSubscription:Object(M.a)(Object(M.a)({},e.updateSubscription),{},Object(U.a)({},u,l))});case"RESET_UPDATE_SUBSCRIPTION":var d=t.reset;return Object(M.a)(Object(M.a)({},e),{},{updateSubscription:d});case"STORE_DELETE_ID":var j=t.id;return Object(M.a)(Object(M.a)({},e),{},{deleteId:j});default:return e}},B=Object(T.b)({users:_,movies:A,subscriptions:F,adminUsers:R}),Y=r(74),V=Object(T.c)(Object(T.a)(Y.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),J=Object(T.d)(B,V),K=r(75),W=r(56).post,H=function(){var e=Object(I.a)(y.a.mark((function e(){var t,r,n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("tk");case 2:return t=e.sent,e.next=5,Object(K.a)(t);case 5:r=e.sent,n=r.exp,c=1e3*n-Date.now(),a=setTimeout((function(){J.dispatch(k(!1)),J.dispatch(C("")),localStorage.removeItem("tk"),alert("Your token has expired you must re-loggIn")}),c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=new(function(){function e(){var t=this;Object(v.a)(this,e),this.appState=function(){return J.getState().adminUsers},this.createAdminUser=Object(I.a)(y.a.mark((function e(){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W("/api/register",JSON.stringify({email:t.appState().signUpEmail,password:t.appState().signUpPassword}));case 3:if(!(r=e.sent).error){e.next=6;break}throw r.error;case 6:localStorage.setItem("tk",r.token),r.token&&(J.dispatch(k(!0)),H()),J.dispatch(C(r.account)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),alert(e.t0);case 15:J.dispatch(S("")),J.dispatch(E(""));case 17:case"end":return e.stop()}}),e,null,[[0,11]])}))),this.loginAdminUser=Object(I.a)(y.a.mark((function e(){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W("/api/login",JSON.stringify({email:t.appState().logInEmail,password:t.appState().logInPassword}));case 3:if(r=e.sent,console.log("user from adminUserService:",r),!r.error){e.next=7;break}throw r.error;case 7:localStorage.setItem("tk",r.token),r.token&&(J.dispatch(k(!0)),H()),J.dispatch(C(r.account)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),alert(e.t0);case 16:J.dispatch(w("")),J.dispatch(N(""));case 18:case"end":return e.stop()}}),e,null,[[0,12]])})))}return Object(f.a)(e,[{key:"stopTimeOut",value:function(){clearTimeout(a)}}]),e}()),q=r(0),z=function(){var e=Object(x.d)((function(e){return e.adminUsers})),t=Object(x.c)(),r=Object(n.useState)(!1),a=Object(o.a)(r,2),s=a[0],i=a[1],v=function(){return i(!1)};return Object(q.jsxs)(c.a.Fragment,{children:[Object(q.jsxs)(l.a,{bg:"dark",variant:"dark",expand:"md",children:[Object(q.jsxs)(l.a.Brand,{as:m.b,to:"/",className:"ms-5",href:"#home",children:[Object(q.jsx)(O.a,{color:"white",className:"me-1"}),"Best-Movies.com/Admin"]}),Object(q.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(q.jsx)(u.a,{me:"auto",className:"me-5",children:Object(q.jsx)(l.a.Collapse,{id:"basic-navbar-nav",children:Object(q.jsxs)(d.a,{className:"ms-auto",children:[Object(q.jsx)(d.a.Link,{onClick:function(){!1===e.loggedIn&&i(!0)},children:!1===e.loggedIn?Object(q.jsx)("span",{children:"Create-Account"}):null}),Object(q.jsxs)(j.a,{title:"Account",id:"basic-nav-dropdown",children:[Object(q.jsx)(j.a.Item,{href:"#action/3.1",children:e.adminUserAccount}),Object(q.jsx)(j.a.Divider,{}),Object(q.jsx)(j.a.Item,{as:m.b,to:"/",onClick:function(){t(k(!1)),localStorage.removeItem("tk"),t(C("")),X.stopTimeOut()},children:e.loggedIn?Object(q.jsx)("span",{children:"Log-Out"}):Object(q.jsx)("span",{children:"Not LoggedIn"})})]})]})})})]}),Object(q.jsxs)(b.a,{show:s,onHide:v,children:[Object(q.jsx)(b.a.Header,{closeButton:!0,children:Object(q.jsx)(b.a.Title,{children:"Sign Up"})}),Object(q.jsxs)(b.a.Body,{children:[" ",Object(q.jsxs)(p.a,{id:"SignUp-Form",children:[Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Email address"}),Object(q.jsx)(p.a.Control,{type:"email",value:e.registerEmail,placeholder:"Enter email",onChange:function(e){return t(S(e.target.value))}}),Object(q.jsx)(p.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Password"}),Object(q.jsx)(p.a.Control,{type:"password",value:e.registerPassword,placeholder:"Password",onChange:function(e){return t(E(e.target.value))}})]})]})]}),Object(q.jsxs)(b.a.Footer,{children:[Object(q.jsx)(h.a,{variant:"primary",onClick:function(){X.createAdminUser(),v()},children:"Submit"}),Object(q.jsx)(h.a,{variant:"secondary",onClick:v,children:"Close"})]})]})]})},Q=function(){var e=Object(x.d)((function(e){return e.adminUsers})),t=function(){!1===e.loggedIn&&alert("You are not logged In")};return e.loggedIn?Object(q.jsx)(c.a.Fragment,{children:Object(q.jsxs)(d.a,{id:"appNavs",variant:"tabs",activeKey:"/users",children:[Object(q.jsx)(d.a.Item,{children:Object(q.jsx)(d.a.Link,{onClick:t,as:m.b,to:"/users",eventKey:"users",id:"unique",href:"/home",children:"Users"})}),Object(q.jsx)(d.a.Item,{children:Object(q.jsx)(d.a.Link,{onClick:t,as:m.b,to:"/movies",eventKey:"movies",children:"Movies"})}),Object(q.jsx)(d.a.Item,{children:Object(q.jsx)(d.a.Link,{as:m.b,to:"/subscriptions",eventKey:"subscriptions",onClick:t,children:"Subscriptions"})})]})}):Object(q.jsx)("div",{})},Z=r(11),$=function(){var e=Object(x.d)((function(e){return e.adminUsers})),t=Object(x.c)();return e.loggedIn?Object(q.jsx)("div",{}):Object(q.jsxs)("div",{children:[Object(q.jsx)("h2",{className:"mt-3 ms-3",children:"Best-Movies/admin "}),Object(q.jsx)("div",{children:Object(q.jsx)(u.a,{className:"d-flex justify-content-center mt-5",children:Object(q.jsxs)(p.a,{children:[Object(q.jsx)("h1",{children:"Log In"}),Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Email address"}),Object(q.jsx)(p.a.Control,{type:"email",value:e.logInEmail,placeholder:"Enter email",onChange:function(e){return t(w(e.target.value))}}),Object(q.jsx)(p.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Password"}),Object(q.jsx)(p.a.Control,{type:"password",value:e.logInPassword,placeholder:"Password",onChange:function(e){return t(N(e.target.value))}})]}),Object(q.jsx)(h.a,{variant:"primary",type:"button",onClick:X.loginAdminUser,children:"submit"})]})})})]})},ee=r(116),te=r(66),re=r(110),ae=function(e){return{type:"REGISTER_EMAIL",email:e}},ne=function(e){return{type:"REGISTER_PASSWORD",password:e}},ce=function(e){return{type:"FIND_EMAIL",email:e}},se=function(e){return{type:"DELETE_EMAIL",email:e}},ie=function(e){return{type:"USER_INFO",data:e}},oe=r(56),le=oe.get,ue=oe.post,de=oe.del,je=function(){var e=Object(I.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getState();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){function e(){Object(v.a)(this,e)}return Object(f.a)(e,[{key:"createUser",value:function(){var e=Object(I.a)(y.a.mark((function e(){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:return t=e.sent,e.prev=3,e.next=6,ue("/api/users",JSON.stringify({email:t.users.registerEmail,password:t.users.registerPassword}));case 6:if(!(r=e.sent).error){e.next=9;break}throw r.error;case 9:alert("User ".concat(r.user[0].email," Successfuly created!!")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0),alert(e.t0);case 16:J.dispatch(ae("")),J.dispatch(ne(""));case 18:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(I.a)(y.a.mark((function e(){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:return t=e.sent,e.prev=3,e.next=6,le("/api/users/".concat(t.users.findEmail));case 6:if(!(r=e.sent).error){e.next=9;break}throw r.error;case 9:J.dispatch(ie(r.user)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0),J.dispatch(ie({id:"",email:"",created_at:""})),alert(e.t0);case 17:J.dispatch(ce(""));case 18:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(I.a)(y.a.mark((function e(){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:return t=e.sent,e.prev=3,e.next=6,de("/api/users/".concat(t.users.deleteEmail));case 6:if(!(r=e.sent).error){e.next=9;break}throw r.error;case 9:alert("User Successfuly deleted!!"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0),alert(e.t0);case 16:J.dispatch(se(""));case 17:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),pe=new be,he=function(e){var t=Object(x.d)((function(e){return e.users})),r=Object(x.c)(),a=Object(n.useState)(!1),s=Object(o.a)(a,2),i=s[0],l=s[1],d=Object(n.useState)(!1),j=Object(o.a)(d,2),b=j[0],O=j[1],m=function(){var e=Object(I.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.findEmail){e.next=3;break}return alert("Input field must have an Email"),e.abrupt("return");case 3:pe.getUser(),""!==t.findEmail&&O(!0),setTimeout((function(){""===t.userInfo.email&&O(!1)}),500);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e){13===e.which&&e.preventDefault()};return Object(q.jsxs)(c.a.Fragment,{children:[Object(q.jsx)(u.a,{children:Object(q.jsxs)(p.a,{id:"Register-Form",children:[Object(q.jsx)("h1",{children:"Create User"}),Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Email address"}),Object(q.jsx)(p.a.Control,{type:"email",value:t.registerEmail,placeholder:"Enter email",onChange:function(e){return r(ae(e.target.value))}}),Object(q.jsx)(p.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Password"}),Object(q.jsx)(p.a.Control,{type:"password",value:t.registerPassword,placeholder:"Password",onChange:function(e){return r(ne(e.target.value))}})]}),Object(q.jsx)(h.a,{variant:"primary",type:"button",onClick:pe.createUser,children:"Submit"})]})}),Object(q.jsx)("hr",{}),Object(q.jsxs)(u.a,{children:[Object(q.jsxs)(p.a,{id:"Find-Form",children:[Object(q.jsx)("h1",{children:"Find User"}),Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Email address"}),Object(q.jsx)(p.a.Control,{autoComplete:"off",type:"email",placeholder:"Enter email",onChange:function(e){return r(ce(e.target.value))},onKeyPress:function(e){return v(e)},value:t.findEmail}),Object(q.jsx)(p.a.Text,{id:"warning",className:"text-muted"})]}),Object(q.jsx)(h.a,{type:"button",variant:"primary",onClick:m,children:"Find"})]}),Object(q.jsx)(ee.a,{style:{width:"30rem",display:b?"block":"none",marginTop:"1em"},children:Object(q.jsxs)(ee.a.Body,{children:[Object(q.jsxs)("p",{className:"d-flex justify-content-end ",children:[" ",Object(q.jsx)(te.a,{onClick:function(){return O(!1)}})]}),Object(q.jsx)(ee.a.Title,{children:"User Data"}),Object(q.jsx)(ee.a.Subtitle,{className:"mb-2 text-muted",children:Object(q.jsx)("b",{className:"ms-3",children:t.userInfo.email})}),Object(q.jsxs)("ul",{children:[Object(q.jsxs)("li",{children:[Object(q.jsx)("b",{className:"me-2",children:"User id:"}),t.userInfo.id]}),Object(q.jsxs)("li",{children:[Object(q.jsx)("b",{className:"me-2",children:"Creation date:"}),t.userInfo.created_at]})]})]})})]}),Object(q.jsx)("hr",{}),Object(q.jsx)(u.a,{className:"mb-5",children:Object(q.jsxs)(p.a,{id:"Delete-Form",children:[Object(q.jsx)("h1",{children:"Delete User"}),Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Email address"}),Object(q.jsx)(p.a.Control,{autoComplete:"off",type:"email",placeholder:"Enter email",onChange:function(e){return r(se(e.target.value))},onKeyPress:function(e){return v(e)},value:t.deleteEmail}),Object(q.jsx)(p.a.Text,{id:"warning",className:"text-muted"})]}),Object(q.jsxs)(re.a,{show:i,variant:"light",children:[Object(q.jsx)(re.a.Heading,{children:"Are you sure you want to delete user?"}),Object(q.jsx)("hr",{}),Object(q.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(q.jsx)(h.a,{type:"button",onClick:function(){pe.deleteUser(),l(!1)},variant:"outline-danger",children:"Yes"}),Object(q.jsx)(h.a,{className:"ms-2",onClick:function(){return l(!1)},variant:"outline-primary",children:"No"})]})]}),Object(q.jsx)(h.a,{type:"button",variant:"danger",onClick:function(){t.deleteEmail?l(!0):alert("Input fiel must have an Email to delete User")},children:"Delete"})]})}),Object(q.jsx)("hr",{})]})},Oe=r(111),me=r(79),xe=function(e,t){return{type:"ADD_MOVIE",input:e,movieProp:t}},ve=function(e){return{type:"FIND_MOVIE",movie:e}},fe=function(e,t){return{type:"UPDATE_MOVIE",input:e,movieProp:t}},ge=function(e){return{type:"STORE_ID",id:e}},ye=function(e){return{type:"DELETE_MOVIE",id:e}},Ie=r(56),Se=Ie.get,Ee=Ie.post,we=Ie.del,Ne=Ie.put,Ce=function(){function e(){Object(v.a)(this,e),this.state=function(){return J.getState()}}return Object(f.a)(e,[{key:"addNewMovie",value:function(){var e=Object(I.a)(y.a.mark((function e(){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state().movies,e.prev=1,e.next=4,Ee("/api/movies",JSON.stringify({title:t.addMovie.movieTitle,genre:t.addMovie.movieGenre,year:t.addMovie.movieYear,movieLength:t.addMovie.movieLength}));case 4:if(!(r=e.sent).error){e.next=7;break}throw r.error;case 7:alert('The movie "'.concat(r.movie.title,'" has been created !!')),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),alert(e.t0);case 14:J.dispatch(xe("","movieTitle")),J.dispatch(xe("","movieGenre")),J.dispatch(xe("","movieYear")),J.dispatch(xe("","movieLength"));case 18:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"findMovie",value:function(){var e=Object(I.a)(y.a.mark((function e(){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state().movies,e.prev=1,e.next=4,Se("/api/movies/".concat(t.findMovieTitle));case 4:if(!(r=e.sent).error){e.next=7;break}throw r.error;case 7:return J.dispatch({type:"STORE_MOVIE_DATA",data:r.movie}),J.dispatch(ve("")),e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),alert(e.t0);case 16:J.dispatch(ve(""));case 17:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateMovie",value:function(){var e=Object(I.a)(y.a.mark((function e(){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state().movies,e.prev=1,e.next=4,Ne("/api/movies/".concat(t.movieId),JSON.stringify(t.updateMovie));case 4:if(!(r=e.sent).error){e.next=7;break}throw r.error;case 7:alert("Movie successfuly updated"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:J.dispatch(fe("","title")),J.dispatch(fe("","genre")),J.dispatch(fe("","year")),J.dispatch(fe("","movieLength")),J.dispatch(ge("")),J.dispatch({type:"RESET_UPDATE",obj:{}});case 19:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"deleteMovie",value:function(){var e=Object(I.a)(y.a.mark((function e(){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state().movies,e.prev=1,e.next=4,we("/api/movies/".concat(t.deleteMovieId));case 4:if(!(r=e.sent).error){e.next=7;break}throw r.error;case 7:alert("Movie was successfuly deleted"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),alert(e.t0);case 14:J.dispatch(ye(""));case 15:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ke=new Ce,Te=function(e){var t=Object(x.d)((function(e){return e.movies})),r=Object(x.c)(),a=Object(n.useState)(!1),c=Object(o.a)(a,2),s=c[0],i=c[1],l=Object(n.useState)(!1),d=Object(o.a)(l,2),j=d[0],b=d[1],O=function(){var e=Object(I.a)(y.a.mark((function e(){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.findMovieTitle){e.next=3;break}return alert("Input fiel must have a movie title"),e.abrupt("return");case 3:return e.next=5,ke.findMovie();case 5:r=e.sent,""!==t.findMovieTitle&&i(!0),!r&&i(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(e){13===e.which&&e.preventDefault()};return Object(q.jsxs)("div",{children:[Object(q.jsx)(u.a,{children:Object(q.jsxs)(p.a,{id:"addMovie-Form",children:[Object(q.jsx)("h1",{children:"Add Movie"}),Object(q.jsxs)(Oe.a,{children:[Object(q.jsx)(me.a,{md:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Movie Title"}),Object(q.jsx)(p.a.Control,{type:"text",value:t.addMovie.movieTitle,placeholder:"Enter title",onChange:function(e){return r(xe(e.target.value,"movieTitle"))}})]})}),Object(q.jsx)(me.a,{md:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Movie Genre"}),Object(q.jsx)(p.a.Control,{type:"text",value:t.addMovie.movieGenre,placeholder:"Enter genre",onChange:function(e){return r(xe(e.target.value,"movieGenre"))}})]})})]}),Object(q.jsxs)(Oe.a,{children:[Object(q.jsx)(me.a,{sm:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Movie Year"}),Object(q.jsx)(p.a.Control,{placeholder:"Enter year",type:"number",value:t.addMovie.movieYear,onChange:function(e){return r(xe(e.target.value,"movieYear"))}})]})}),Object(q.jsx)(me.a,{sm:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Movie Length"}),Object(q.jsx)(p.a.Control,{type:"text",value:t.addMovie.movieLength,placeholder:"Enter time e.g. 02:30:00",onChange:function(e){return r(xe(e.target.value,"movieLength"))}})]})})]}),Object(q.jsx)(h.a,{variant:"primary",type:"button",onClick:function(){ke.addNewMovie()},children:"Add"})]})}),Object(q.jsx)("hr",{}),Object(q.jsxs)(u.a,{children:[Object(q.jsxs)(p.a,{id:"FindMovie-Form",children:[Object(q.jsx)("h1",{children:"Find Movie"}),Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Movie title"}),Object(q.jsx)(p.a.Control,{autoComplete:"off",type:"text",placeholder:"Enter movie title",onKeyPress:function(e){return m(e)},onChange:function(e){return r(ve(e.target.value))},value:t.findMovieTitle})]}),Object(q.jsx)(h.a,{type:"button",variant:"primary",onClick:O,children:"Find"})]}),Object(q.jsx)(ee.a,{style:{width:"30rem",display:s?"block":"none",marginTop:"1em"},children:Object(q.jsxs)(ee.a.Body,{children:[Object(q.jsxs)("p",{className:"d-flex justify-content-end ",children:[" ",Object(q.jsx)(te.a,{onClick:function(){return i(!1)}})]}),Object(q.jsx)(ee.a.Title,{children:"Movie"}),Object(q.jsx)(ee.a.Subtitle,{className:"mb-2 text-muted",children:Object(q.jsx)("b",{className:"ms-3",children:t.movieData.title})}),Object(q.jsxs)("ul",{children:[Object(q.jsxs)("li",{children:[Object(q.jsx)("b",{className:"me-2",children:"Id: "}),t.movieData.id]}),Object(q.jsxs)("li",{children:[Object(q.jsx)("b",{className:"me-2",children:"Genre: "}),t.movieData.genre]}),Object(q.jsxs)("li",{children:[Object(q.jsx)("b",{className:"me-2",children:"Year:"}),t.movieData.year]}),Object(q.jsxs)("li",{children:[Object(q.jsx)("b",{className:"me-2",children:"Length:"}),t.movieData.movie_length]}),Object(q.jsxs)("li",{children:[Object(q.jsx)("b",{className:"me-2",children:"Creation date:"}),t.movieData.created_at]})]})]})})]}),Object(q.jsx)("hr",{}),Object(q.jsx)(u.a,{children:Object(q.jsxs)(p.a,{id:"update-Form",children:[Object(q.jsx)("h1",{children:"Update Movie"}),Object(q.jsx)(Oe.a,{children:Object(q.jsx)(me.a,{sm:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Movie Id"}),Object(q.jsx)(p.a.Control,{type:"text",value:t.movieId,placeholder:"Enter Id",onChange:function(e){return r(ge(e.target.value))}})]})})}),Object(q.jsxs)(Oe.a,{children:[Object(q.jsx)(me.a,{md:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Movie Title"}),Object(q.jsx)(p.a.Control,{type:"text",value:t.updateMovie.title&&t.updateMovie.title,placeholder:"Enter title",onChange:function(e){return r(fe(e.target.value,"title"))}})]})}),Object(q.jsx)(me.a,{md:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Movie Genre"}),Object(q.jsx)(p.a.Control,{type:"text",value:t.updateMovie.genre&&t.updateMovie.genre,placeholder:"Enter genre",onChange:function(e){return r(fe(e.target.value,"genre"))}})]})})]}),Object(q.jsxs)(Oe.a,{children:[Object(q.jsx)(me.a,{sm:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Movie Year"}),Object(q.jsx)(p.a.Control,{type:"number",placeholder:"Enter year",value:t.updateMovie.year&&t.updateMovie.year,onChange:function(e){return r(fe(e.target.value,"year"))}})]})}),Object(q.jsx)(me.a,{sm:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Movie Length"}),Object(q.jsx)(p.a.Control,{type:"text",value:t.updateMovie.movieLength&&t.updateMovie.movieLength,placeholder:"Enter time e.g. 02:30:00",onChange:function(e){return r(fe(e.target.value,"movieLength"))}})]})})]}),Object(q.jsx)(h.a,{variant:"primary",type:"button",onClick:function(){""!==t.movieId?0!==Object.entries(t.updateMovie).length?ke.updateMovie():alert("One or more of the input fields must have data to update"):alert("Must give a movie Id")},children:"Update"})]})}),Object(q.jsx)("hr",{}),Object(q.jsx)(u.a,{className:"mb-5",children:Object(q.jsxs)(p.a,{id:"DeleteMovie-Form",children:[Object(q.jsx)("h1",{children:"Delete Movie"}),Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Movie Id"}),Object(q.jsx)(p.a.Control,{autoComplete:"off",type:"email",placeholder:"Enter movie Id",onKeyPress:function(e){return m(e)},onChange:function(e){return r(ye(e.target.value))},value:t.deleteMovieId}),Object(q.jsx)(p.a.Text,{id:"warning",className:"text-muted"})]}),Object(q.jsxs)(re.a,{show:j,variant:"light",children:[Object(q.jsx)(re.a.Heading,{children:"Are you sure you want to delete user?"}),Object(q.jsx)("hr",{}),Object(q.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(q.jsx)(h.a,{type:"button",onClick:function(){ke.deleteMovie(),b(!1)},variant:"outline-danger",children:"Yes"}),Object(q.jsx)(h.a,{className:"ms-2",onClick:function(){return b(!1)},variant:"outline-primary",children:"No"})]})]}),Object(q.jsx)(h.a,{type:"button",variant:"danger",onClick:function(){""!==t.deleteMovieId?b(!0):alert("Must enter a movie Id")},children:"Delete"})]})}),Object(q.jsx)("hr",{})]})},Me=function(e,t){return{type:"ADD_SUBSCRIPTION",input:e,detail:t}},De=function(e){return{type:"FIND_SUBSCRIPTION",input:e}},_e=function(e){return{type:"STORE_SUBSCRIPTION_ID",id:e}},Ue=function(e,t){return{type:"UPDATE_SUBSCRIPTION",input:e,detail:t}},Le=function(e){return{type:"STORE_DELETE_ID",id:e}},Ae=r(56),Pe=Ae.get,Re=Ae.post,Ge=Ae.del,Fe=Ae.put,Be=function(){function e(){Object(v.a)(this,e),this.state=function(){return J.getState()}}return Object(f.a)(e,[{key:"addSubscription",value:function(){var e=Object(I.a)(y.a.mark((function e(){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state().subscriptions.addSubscription,e.prev=1,e.next=4,Re("/api/subscriptions/",JSON.stringify({type:t.type,detail:t.detail,months:t.months,price:t.price}));case 4:if(!(r=e.sent).error){e.next=7;break}throw r.error;case 7:alert('The subscription "'.concat(r.subscription.type,'" has been created !!')),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),alert(e.t0);case 14:J.dispatch(Me("","type")),J.dispatch(Me("","detail")),J.dispatch(Me("","months")),J.dispatch(Me("","price")),J.dispatch({type:"RESET_ADD_SUBSCRIPTION",reset:{}});case 19:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"findSubscription",value:function(){var e=Object(I.a)(y.a.mark((function e(){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state().subscriptions,e.prev=1,e.next=4,Pe("/api/subscriptions/".concat(t.subscriptionType));case 4:if(!(r=e.sent).error){e.next=7;break}throw r.error;case 7:return J.dispatch({type:"STORE_SUBSCRIPTION_DATA",data:r.subscription}),J.dispatch(De("")),e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),alert(e.t0);case 16:J.dispatch(De("")),J.dispatch({type:"RESET_SUBSCRIPTION_DATA",reset:{}});case 18:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateSubscription",value:function(){var e=Object(I.a)(y.a.mark((function e(){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state().subscriptions,e.prev=1,e.next=4,Fe("/api/subscriptions/".concat(t.subscriptionId),JSON.stringify(t.updateSubscription));case 4:if(!(r=e.sent).error){e.next=7;break}throw r.error;case 7:alert("Subscription successfuly updated"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),alert(e.t0);case 14:J.dispatch(Ue("","type")),J.dispatch(Ue("","detail")),J.dispatch(Ue("","months")),J.dispatch(Ue("","price")),J.dispatch(_e("")),J.dispatch({type:"RESET_UPDATE_SUBSCRIPTION",reset:{}});case 20:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"deleteSubscription",value:function(){var e=Object(I.a)(y.a.mark((function e(){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state().subscriptions,e.prev=1,e.next=4,Ge("/api/subscriptions/".concat(t.deleteId));case 4:if(!(r=e.sent).error){e.next=7;break}throw r.error;case 7:alert("Subscription was successfuly deleted"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),alert(e.t0);case 14:J.dispatch(Le(""));case 15:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ye=new Be,Ve=Object(x.b)((function(e){return{addSubscription:e.subscriptions.addSubscription,subscriptionType:e.subscriptions.subscriptionType,subscriptionData:e.subscriptions.subscriptionData,updateSubscription:e.subscriptions.updateSubscription,subscriptionId:e.subscriptions.subscriptionId,deleteId:e.subscriptions.deleteId}}),(function(e){return{dispatch:e}}))((function(e){var t=Object(n.useState)(!1),r=Object(o.a)(t,2),a=r[0],s=r[1],i=Object(n.useState)(!1),l=Object(o.a)(i,2),d=l[0],j=l[1],b=e.addSubscription,O=e.subscriptionData,m=e.subscriptionType,x=e.updateSubscription,v=e.subscriptionId,f=e.deleteId,g=e.dispatch,S=function(){var e=Object(I.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==m){e.next=3;break}return alert("Input field must have a valid subscription type"),e.abrupt("return");case 3:return e.next=5,Ye.findSubscription();case 5:(t=e.sent)&&s(!0),!t&&s(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){13===e.which&&e.preventDefault()};return Object(q.jsxs)(c.a.Fragment,{children:[Object(q.jsx)(u.a,{children:Object(q.jsxs)(p.a,{id:"addMovie-Form",children:[Object(q.jsx)("h1",{children:"Add Subscription"}),Object(q.jsxs)(Oe.a,{children:[Object(q.jsx)(me.a,{md:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Subscription Type"}),Object(q.jsx)(p.a.Control,{type:"text",value:b.type,placeholder:"Enter subscription name",onChange:function(e){return g(Me(e.target.value,"type"))}})]})}),Object(q.jsx)(me.a,{md:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Detail"}),Object(q.jsx)(p.a.Control,{type:"text",value:b.detail,placeholder:"Enter detail",onChange:function(e){return g(Me(e.target.value,"detail"))}})]})})]}),Object(q.jsxs)(Oe.a,{children:[Object(q.jsx)(me.a,{sm:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Months"}),Object(q.jsx)(p.a.Control,{placeholder:"Enter a number",type:"number",value:b.months,onChange:function(e){return g(Me(e.target.value,"months"))}})]})}),Object(q.jsx)(me.a,{sm:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Price"}),Object(q.jsx)(p.a.Control,{type:"number",value:b.price,placeholder:"Enter number",onChange:function(e){return g(Me(e.target.value,"price"))}})]})})]}),Object(q.jsx)(h.a,{variant:"primary",type:"button",onClick:function(){Ye.addSubscription()},children:"Add"})]})}),Object(q.jsx)("hr",{}),Object(q.jsxs)(u.a,{children:[Object(q.jsxs)(p.a,{id:"FindSubscription-Form",children:[Object(q.jsx)("h1",{children:"Find Subscription"}),Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Subscription Type"}),Object(q.jsx)(p.a.Control,{autoComplete:"off",type:"text",placeholder:"Enter subscription type",onChange:function(e){return g(De(e.target.value))},onKeyPress:function(e){return E(e)},value:m})]}),Object(q.jsx)(h.a,{type:"button",variant:"primary",onClick:S,children:"Find"})]}),Object(q.jsx)(ee.a,{style:{width:"30rem",display:a?"block":"none",marginTop:"1em"},children:Object(q.jsxs)(ee.a.Body,{children:[Object(q.jsxs)("p",{className:"d-flex justify-content-end ",children:[" ",Object(q.jsx)(te.a,{onClick:function(){return s(!1)}})]}),Object(q.jsx)(ee.a.Title,{children:"Subscription"}),Object(q.jsx)(ee.a.Subtitle,{className:"mb-2 text-muted",children:Object(q.jsx)("b",{className:"ms-3",children:O.type})}),Object(q.jsxs)("ul",{children:[Object(q.jsxs)("li",{children:[Object(q.jsx)("b",{className:"me-2",children:"id: "}),O.id]}),Object(q.jsxs)("li",{children:[Object(q.jsx)("b",{className:"me-2",children:"Detail: "}),O.detail]}),Object(q.jsxs)("li",{children:[Object(q.jsx)("b",{className:"me-2",children:"Months: "}),O.months]}),Object(q.jsxs)("li",{children:[Object(q.jsx)("b",{className:"me-2",children:"Price:"}),O.price]})]})]})})]}),Object(q.jsx)("hr",{}),Object(q.jsx)(u.a,{children:Object(q.jsxs)(p.a,{id:"updateSubscription-Form",children:[Object(q.jsx)("h1",{children:"Update Subscription"}),Object(q.jsx)(Oe.a,{children:Object(q.jsx)(me.a,{sm:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Subscription Id"}),Object(q.jsx)(p.a.Control,{type:"text",value:v,placeholder:"Enter Id",onChange:function(e){return g(_e(e.target.value))}})]})})}),Object(q.jsxs)(Oe.a,{children:[Object(q.jsx)(me.a,{md:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Subscription type"}),Object(q.jsx)(p.a.Control,{type:"text",value:x.type,placeholder:"Enter subscription type",onChange:function(e){return g(Ue(e.target.value,"type"))}})]})}),Object(q.jsx)(me.a,{md:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Detail"}),Object(q.jsx)(p.a.Control,{type:"text",value:x.detail,placeholder:"Enter detail",onChange:function(e){return g(Ue(e.target.value,"detail"))}})]})})]}),Object(q.jsxs)(Oe.a,{children:[Object(q.jsx)(me.a,{sm:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Months"}),Object(q.jsx)(p.a.Control,{type:"number",placeholder:"Enter number",value:x.months,onChange:function(e){return g(Ue(e.target.value,"months"))}})]})}),Object(q.jsx)(me.a,{sm:!0,children:Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Price"}),Object(q.jsx)(p.a.Control,{type:"number",value:x.price,placeholder:"Enter number",onChange:function(e){return g(Ue(e.target.value,"price"))}})]})})]}),Object(q.jsx)(h.a,{variant:"primary",type:"button",onClick:function(){""!==v?0!==Object.entries(x).length?Ye.updateSubscription():alert("One or more of the input fields must have data to update"):alert("No subscription Id was given")},children:"Update"})]})}),Object(q.jsx)("hr",{}),Object(q.jsx)(u.a,{className:"mb-5",children:Object(q.jsxs)(p.a,{id:"DeleteSubscription-Form",children:[Object(q.jsx)("h1",{children:"Delete Subscription"}),Object(q.jsxs)(p.a.Group,{className:"mb-3",children:[Object(q.jsx)(p.a.Label,{children:"Subscription Id"}),Object(q.jsx)(p.a.Control,{autoComplete:"off",type:"text",placeholder:"Enter id",onChange:function(e){return g(Le(e.target.value))},value:f,onKeyPress:function(e){return E(e)}}),Object(q.jsx)(p.a.Text,{id:"warning",className:"text-muted"})]}),Object(q.jsxs)(re.a,{show:d,variant:"light",children:[Object(q.jsx)(re.a.Heading,{children:"Are you sure you want to delete user?"}),Object(q.jsx)("hr",{}),Object(q.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(q.jsx)(h.a,{type:"button",onClick:function(){Ye.deleteSubscription(),j(!1)},variant:"outline-danger",children:"Yes"}),Object(q.jsx)(h.a,{className:"ms-2",onClick:function(){return j(!1)},variant:"outline-primary",children:"No"})]})]}),Object(q.jsx)(h.a,{type:"button",variant:"danger",onClick:function(){""!==f?j(!0):alert("Must provide a subscription id")},children:"Delete"})]})}),Object(q.jsx)("hr",{})]})})),Je=Object(x.b)((function(e){return{loggedIn:e.adminUsers.loggedIn}}))((function(e){var t=e.loggedIn,r=e.type;return"guest"===r&&t?Object(q.jsx)(Z.a,{to:"/users"}):"private"!==r||t?Object(q.jsx)(Z.b,Object(M.a)({},e)):Object(q.jsx)(Z.a,{to:"/"})}));var Ke=function(){return Object(q.jsxs)(c.a.Fragment,{children:[Object(q.jsx)(z,{}),Object(q.jsxs)("div",{className:"App",children:[Object(q.jsx)(Q,{}),Object(q.jsxs)(Z.d,{children:[Object(q.jsx)(Je,{exact:!0,path:"/",type:"guest",children:Object(q.jsx)($,{})}),Object(q.jsx)(Je,{path:"/users",type:"private",children:Object(q.jsx)(he,{})}),Object(q.jsx)(Je,{path:"/movies",type:"private",children:Object(q.jsx)(Te,{})}),Object(q.jsx)(Je,{path:"/subscriptions",type:"private",children:Object(q.jsx)(Ve,{})})]})]})]})},We=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,117)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))};r(100);i.a.render(Object(q.jsx)(c.a.StrictMode,{children:Object(q.jsx)(x.a,{store:J,children:Object(q.jsx)(m.a,{children:Object(q.jsx)(Ke,{})})})}),document.getElementById("root")),We()},56:function(e,t,r){"use strict";r.r(t),r.d(t,"requestApi",(function(){return i})),r.d(t,"get",(function(){return o})),r.d(t,"post",(function(){return l})),r.d(t,"put",(function(){return u})),r.d(t,"del",(function(){return d})),r.d(t,"postJson",(function(){return j}));var a=r(6),n=r.n(a),c=r(2),s=r(9),i=function(){var e=Object(s.a)(n.a.mark((function e(t,r,a){var s,i,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s={}).headers={"content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("tk")," ")},r&&(s.body=r),e.next=5,fetch("https://b-movies-sever.herokuapp.com"+t,Object(c.a)(Object(c.a)({},s),a));case 5:return i=e.sent,e.next=8,i.json();case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),o=function(){var e=Object(s.a)(n.a.mark((function e(t,r){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i(t,!1,Object(c.a)({method:"GET"},r)));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),l=function(){var e=Object(s.a)(n.a.mark((function e(t,r,a){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t,r,Object(c.a)({method:"POST"},a));case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(s.a)(n.a.mark((function e(t,r,a){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t,r,Object(c.a)({method:"PUT"},a));case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),d=function(){var e=Object(s.a)(n.a.mark((function e(t,r){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t,!1,Object(c.a)({method:"DELETE"},r));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),j=function(e,t,r){return i(e,t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}},86:function(e,t,r){},87:function(e,t,r){}},[[101,1,2]]]);
//# sourceMappingURL=main.250cd13f.chunk.js.map